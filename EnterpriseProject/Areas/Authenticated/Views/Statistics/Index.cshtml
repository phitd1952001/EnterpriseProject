@{
    Layout = "_Layout";
}

<h1>Statistic idea by departments</h1>
<div class="row">
    <div class="col-6">
        <canvas id="bar-chart"></canvas>
    </div>
    <div class="col-6">
        <div style="height: 50vh">
            <canvas id="bar-chart-idea"></canvas>
        </div>
    </div>
</div>

<h1>Statistic user by departments</h1>
<canvas id="bar-chart-ctv"></canvas>

@section Scripts
{
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script>
    var data = {
        labels: @Html.Raw(Json.Serialize(ViewBag.Labels)),
        datasets: [
            {
                label: "Data",
                backgroundColor: "rgba(255,99,132,0.2)",
                borderColor: "rgba(255,99,132,1)",
                borderWidth: 1,
                hoverBackgroundColor: "rgba(255,99,132,0.4)",
                hoverBorderColor: "rgba(255,99,132,1)",
                data: @Html.Raw(Json.Serialize(ViewBag.Data))
            }
        ]
    };
    
    var options = {
        scales: {
            yAxes: [{
                ticks: {
                    beginAtZero: true
                }
            }]
        }
    };
    
    var ctx = document.getElementById("bar-chart").getContext("2d");
    var barChart = new Chart(ctx, {
        type: 'bar',
        data: data,
        options: options
    });
    
    var dataCtv = {
            labels: @Html.Raw(Json.Serialize(ViewBag.LabelCtv)),
            datasets: [
                {
                    label: "Data",
                    backgroundColor: "rgba(255,99,132,0.2)",
                    borderColor: "rgba(255,99,132,1)",
                    borderWidth: 1,
                    hoverBackgroundColor: "rgba(255,99,132,0.4)",
                    hoverBorderColor: "rgba(255,99,132,1)",
                    data: @Html.Raw(Json.Serialize(ViewBag.DataCtv))
                }
            ]
        };
        
        var optionsCtv = {
            scales: {
                yAxes: [{
                    ticks: {
                        beginAtZero: true
                    }
                }]
            }
        };
        
        var ctxCtv = document.getElementById("bar-chart-ctv").getContext("2d");
        var barChartCtv = new Chart(ctxCtv, {
            type: 'bar',
            data: dataCtv,
            options: optionsCtv
        });
        
     // pie chart 
     var dataIdea = {
         labels: @Html.Raw(Json.Serialize(ViewBag.Labels)),
         datasets: [
             {
                 backgroundColor: "rgba(255,99,132,0.2)",
                 borderColor: "rgba(255,99,132,1)",
                 borderWidth: 1,
                 hoverBackgroundColor: "rgba(255,99,132,0.4)",
                 hoverBorderColor: "rgba(255,99,132,1)",
                 data: @Html.Raw(Json.Serialize(ViewBag.Data))
             }
         ]
     };
     
     var optionsIdea = {
         responsive: true,
             plugins: {
                 legend: {
                     position: 'bottom'
                 }
             }
     };
     
     var ctxIdea = document.getElementById("bar-chart-idea").getContext("2d");
     var barChartIdea = new Chart(ctxIdea, {
         type: 'pie',
         data: dataIdea,
         options: optionsIdea
     });
    </script>
}
